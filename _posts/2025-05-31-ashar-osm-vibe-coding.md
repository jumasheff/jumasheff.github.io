---
layout: post
title:  "OSM картасын ашар ыкмасы менен кыргызчалайбыз"
date:   2025-05-31 19:47:00 +0600
categories: tutorial cursor vibe-coding Python Django htmx
author: murat
toc: false
comments: false
media_subpath: /assets/img/2025-05-31/
---
## OpenStreetMap картасындагы көчөлөрдү ашарлап кыргызчалоого арналган сайтты вайб коддоп жасаган сапарым

### Вайбыңдын коду
*Vibe coding* деген термин Андрей Карпаты ([Andrej Karpathy](https://en.wikipedia.org/wiki/Andrej_Karpathy)) аттуу белгилүү инсан тарабынан 2025-жылдын 3-февралында [сунушталган](https://x.com/karpathy/status/1886192184808149383). Анын аныктамасы Gemini менен которгондо мындай болот экен:
> Мен "vibe coding" (вайб кодиң же сезим менен коддоо) деп атап койгон код жазуунун жаңы түрү бар, анда сиз толугу менен сезимдерге берилип, экспоненциалдуу өсүштү кабыл алып, коддун бар экенин да унутасыз. Бул мүмкүн, анткени LLM'дер (мисалы, Cursor Composer менен Sonnet) өтө эле мыкты болуп баратышат. Ошондой эле, мен Composer менен SuperWhisper аркылуу сүйлөшкөндүктөн, клавиатурага дээрлик тийбейм. "Каптал тилкедеги боштукту эки эсеге азайт" деген сыяктуу эң жөнөкөй нерселерди сурайм, анткени аны өзүм жасагандан эринем. Мен дайыма "Баарын кабыл алуу" баскычын басам, өзгөртүүлөрдүн айырмасын (diffs) окубайм. Ката жөнүндө билдирүүлөр келгенде, аларды эч кандай комментарийсиз эле көчүрүп чаптайм, адатта аны оңдой салат. Код менин кадимки түшүнүгүмдөн ашып өсөт, аны жакшылап окуп чыгышым керек болуп калат. Кээде LLM'дер катаны оңдой албайт, ошондуктан мен аны айланып өтөм же ал жоюлганча чейин туш келди өзгөртүүлөрдү сунуш кылганды сурайм. Бул бир жолку дем алыш күндөрүндөгү долбоорлор үчүн анчалык деле жаман эмес, бирок баары бир кызыктуу. Мен долбоор же веб-тиркеме куруп жатам, бирок бул чындыгында код жазуу эмес – мен жөн гана нерселерди көрөм, айтам, иштетем жана көчүрүп чаптайм, жана ал көбүнчө иштейт.

Бул нерсе тууралуу учурда (2025-жылдын жазында) түрлүү сөздөр айтылууда. Тамаша катары [Эдсгер В. Дейкстра](https://en.wikipedia.org/wiki/Edsger_W._Dijkstra) аттуу компьютер илимдеринин алпынын "табигый тил" тууралуу [жазганын](https://softwarequotes.com/quote/so-called--natural-language--is-wonderful-for-the-) цитата кылышат:
> Табигый тил деп аталган нерсе ал жаралган максаттар үчүн эң сонун, мисалы, орой сүйлөө, тамаша айтуу, алдоо же сүйүү билдирүү үчүн (ал эми Адабий Сындын Теоретиктери анда мазмунсуз деле боло алышат), бирок биз өтө татаал, мыйзам чыгаруу, арбитраж, математика же программалоо сыяктуу ишмердүүлүктөрдө сөзсүз пайда болгон кырдаалдарды бир маанилүү түрдө чечүүгө аргасыз болгондо, ал таптакыр жараксыз.

... анан могу мемди көрсөтүп, жыргап калышат:
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Dijkstra watching the whole industry drift further and further from formal methods on to pure slop vibe coding <a href="https://t.co/JTb4OMhBOg">https://t.co/JTb4OMhBOg</a> <a href="https://t.co/4NsfQkCGjq">pic.twitter.com/4NsfQkCGjq</a></p>&mdash; Rick the Tech Dad (@rickasaurus) <a href="https://twitter.com/rickasaurus/status/1903434414807248970?ref_src=twsrc%5Etfw">March 22, 2025</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 


"Вайб кодиң бул программалоонун панк-рок музыкасы" деп дагы чыгышты. Эмнеге? Анткени панк-рок чыга электе адамдар жылдап жүрүп музыка аспабын черткенди үйрөнүп, анан симфонияга кошулушчу. Анан панк-рок чыкканда элдин балдары 1 күндө 3 аккорд үйрөнө калып, ырдап бечү сөздөрүн ырдап чыгышты. (Эркин баяндап айтканда) вайб кодиң дагы адамдарга ошондой эркиндик берди дейт, "THE WAY OF CODE. The Timeless Art of Vibe Coding" аттуу [китептин](https://www.thewayofcode.com) автору [Рик Рубин](https://en.wikipedia.org/wiki/Rick_Rubin).

<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Rick Rubin says vibe coding is the punk rock of coding:<br><br>“If you had something to say, you could say it. You didn&#39;t need the expertise.. just your idea and your ability to convey it.”<br><br>But most people still use AI to imitate. He&#39;s waiting for the moment it actually goes punk. <a href="https://t.co/9Z2u5dxopE">pic.twitter.com/9Z2u5dxopE</a></p>&mdash; vitrupo (@vitrupo) <a href="https://twitter.com/vitrupo/status/1927731671639503137?ref_src=twsrc%5Etfw">May 28, 2025</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

Ошол эле маалда, компьютер илимдеринин корифейи болгон [Боб байкем](https://en.wikipedia.org/wiki/Robert_C._Martin), ЖИлерди шумкардай байкап туруш керек, анткени алар көрүнүшү жакшы, бирок тап-такыр туура эмес нерселерди жасашы мүмкүн экенин айтууда:
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Ya gotta watch these AIs like a hawk. They do perfectly reasonable looking things that are dead wrong.</p>&mdash; Uncle Bob Martin (@unclebobmartin) <a href="https://twitter.com/unclebobmartin/status/1928464181985943876?ref_src=twsrc%5Etfw">May 30, 2025</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

Мактагандардын дагы, этияттыкка үндөгөндөрдүн дагы сөздөрү жүйөөлүү. Өзүм канча нерсени Cursor'го (мындан ары Курсор) жаздырып, аягында окуганга өтө ыңгайсыз (мисалы, [могу](https://github.com/kyrgyz-nlp/label-studio-ml-backend-gemini-ocr-trigger-dev/blob/64cc47567e5f5834cf201bec3d23633945a458c4/ml_backend/src/gateway/services/ml_backend.py#L86)) код менен отуруп калган учурларым болду!

### Вайб кодиң көндүмүмдү жакшыртуу планым
Бирокчу, туугандар, Боб байкемдин [X'ин (твиттерин)](https://x.com/unclebobmartin) жакшылап изилдеп көрсөмчү, өзү бул вайб кодиңдин вайбын жакшылап сезе электей болду.

Өзүм деле кыйратпайм, ошондуктан бул темада дагы эле изденип жатам. Бүгүн [могу](https://www.youtube.com/watch?v=fD4ktSkNCw4) подкастты көрүп, ал жактагы адамдын [репозиторийин](https://github.com/snarktank/ai-dev-tasks) таап, [өткөндө]({% link _posts/2025-05-25-openstreetmap-kyrgyz-kocholor.md %}) жасаган [долбоорумду](https://github.com/jumasheff/osm-kyrgyz-streets) негиз кылып, Django, htmx, жана TailwindCSS негизинде жасалган [калып](https://github.com/Alurith/django-cookiecutter) менен сайт жасамакчы болдум.

### Долбоор тууралуу

Жасамакчы сайтым ашар жолу менен көчөлөрдүн ЖИ тарабынан алдын ала кыргызчаланган варианттарын текшерип, керек болсо түзөп, аларды OpenStreetMap'ке жөнөтүп жиберүүгө арналат. Анда мен Google аркылуу кирүүнү, ар бир көчө аты жок дегенде 3 адам тарабынан текшерилүүсүн талап кылган логиканы ЖИге, тагыраак айтканда, Курсорго жогорудагы видеодо берилген Курсор эрежелерин колдонуп жасатам.

### Django Cookiecutter
Python долбоорлорунун калыптарын оңой жол менен көчүрүп алуу үчүн [cookiecutter](https://github.com/cookiecutter/cookiecutter) атуу сонун долбоор бар.
![img-description](cookiecutter.png)
_"Cookie cutter" -- бул печенье калыбы. Сүрөт [бул жактан](https://www.pamperedchef.ca/shop/New+and+Now/Fall+Favorites/Linzer+Cookie+Cutter+Set/101221) алынды_

Долбоорубуз жогоруда берилген калыптын негизинде курулат, ошондуктан `~/projects` аттуу долбоорлорум сакталган папкага өтүп туруп, `venv` аталган Python виртуалдык чөйрөсүн даярдап:
```bash
python3 -m venv venv
```
...аны иштетип:
```bash
source venv/bin/activate
```
...керектүү китепкананы орнотуп:
```bash
pip install cookiecutter
```
...жогоруда айтылган калыпты негиз кылабыз. Бул буйрук иштегенде суроолор берилет, аларга долбоорубузга ылайык жооп беребиз:
```
cookiecutter https://github.com/Alurith/django-cookiecutter.git
```
Натыйжада мындай долбоор даяр болушу керек:
![img-description](coockiecutter-setup-result.png)
_Калып даяр болду_

Байкаганыңыздай, долбоорду `osm-ashar` деп атадым.

Калыпта [берилген](https://github.com/Alurith/django-cookiecutter) кадамдарды аткарып, алгачкы жолу долбоорду от алдырабыз.

![img-description](cookiecutter-ready.png)
_От алды!_

### Эрежелерди кошобуз
`.cursor` аттуу папка түзүп, анын ичинде `rules` деген папка түзүп, анын ичине жогоруда айтылган подкастта көрсөтүлгөн [эрежелерди](https://github.com/snarktank/ai-dev-tasks) салабыз:
![img-description](add-rules.png)
_Эрежелердин редактордо жайгашуусу_

### Эреже колдонуп көрөбүз
`create-prd.mdc` эрежесин окусак, анда `tasks` папкасы колдоулары айтылган. Демек ошол папканы түзүп коёбуз.

Бул макаланын башында Google аркылуу катталууну ишке ашырыш керек дегенбиз. Ушул маселеден баштайлы. Ал үчүн Курсорго төмөнкү сурам жаздым:
> @create-prd.mdc  эрежесин колдон
Могу нерсе керек болуп жатат: Django долбоорунун колдонуучулары Google аркылуу каттала алышы керек. Django, htmx, tailwindcss колдонулаарын эске ал. 
Төмөнкү файлдарды жардамчы катары колдонсоң болот: @requirements.txt @homepage.html @urls.py @settings.py 

![img-description](create-prd-request.png)
_Жазылган сурам_

Бул сурамга жооп катары могуларды жазып, жооп берүүнү талап кылды:
![img-description](create-prd-clarification-questions.png)
_Ушинтип анан эзет, ойлорумду өзү окуп эле, жасап таштаса кана?!_

Баарын айтып бериш керек экен, эхх.
> 1. Негизги максаты - колдонуучуларга (ыктыярчыларга) сайтка оңой катталып, кирип, андан кийин атайын, катталгандарга гана жеткиликтүү болгон функцияларды колдонууга мүмкүнчүлүк берүү. Долбоор Django, htmx жана Tailwind CSS колдонот.
2. Кыргыз тилдүү ыктыярчылар
3. Жаңы колдонуучуларга Google аккаунту аркылуу тез жана оңой катталууга мүмкүнчүлүк берүү. Катталган колдонуучуларга Google аккаунту аркылуу ыңгайлуу кирүүсүн камсыз кылуу. Кирген колдонуучуларга системадан коопсуз чыгуу мүмкүнчүлүгүн берүү. Колдонуучунун Google электрондук почта дарегин системада колдонуучу аты катары сактоо.
4. Каттала элек колдонуучу катары: Мен Google аккаунтум аркылуу сайтка катталгым келет, ошентип мен тез арада аккаунт түзүп, ыктыярчылар үчүн функцияларга кире алам. Катталган колдонуучу катары: Мен Google аккаунтум аркылуу сайтка киргим келет, ошентип мен өз аккаунтума жана ыктыярчылар үчүн функцияларга оңой жете алам. Кирип турган колдонуучу катары: Мен аккаунтумдан чыккым келет, ошентип сессиямдын коопсуздугун камсыздай алам.
5. Колдонуучулар Google аккаунттары аркылуу ийгиликтүү каттала алышат. Колдонуучулар Google аккаунттары аркылуу ийгиликтүү кире алышат. Колдонуучулар системадан ийгиликтүү чыга алышат. Сайтка катталган жана активдүү ыктыярчы-салымчылардын санынын өсүшү.
6. Максатка Кирбегендер (Non-Goals / Out of Scope)
*   Салттуу сырсөз аркылуу каттоо же кирүү функциялары.
*   Google аркылуу түзүлгөн аккаунттарга сырсөз кошуу же өзгөртүү мүмкүнчүлүгү.
*   Колдонуучунун аккаунтун өчүрүү функциясы.
*   Google профилинен электрондук почтадан башка берилиштерди (мисалы, профиль сүрөтү, аты-жөнү) алуу же сактоо, эгер кийинчерээк атайын талап кылынбаса.
7. Бир гана почтасы керек
8. "Google менен кирүү" баскычы навигация тилкесинин оң тарабында жайгашышы керек. "Чыгуу" баскычы/шилтемеси кирген колдонуучулар үчүн көрүнүктүү болушу керек, ошол эле навигация тилкесинде, "Google менен кирүү" баскычынын ордуна же колдонуучу менюсунда.
9. башкы бетке
10. жок. Бул cookiecutter долбоордо алар ишке ашырылган эмес экен. django-allauth керек болот окшойт
11. "Азырынча ката кетти, кайра аракет кылыңыз" деген текстти көрсөтөбүз.

Жакшы натыйжа берди.
![img-description](create-prd-result.png)
_Эми кийинки ушул нерсе канчалык пайда болоор экен?_

### Тапшырмалар тизмегин даярдатабыз
Эми жаңы чат сессиясын ачып, кийинки кадам катары тапшырмаларды (тасктарды) жаз деп буйрук беребиз:
> @prd-google-authentication.md файлын алып, @generate-tasks.mdc колдонуу менен тапшырмалар тизмегин түз

Натыйжада чоң-чоң арыштап, тапшырмаларды жазып алып, суб-тапшырмаларды түзүүнү сунуштайт: 
![img-description](generate-tasks-result-tasks.png)
_Жогорку деңгээлде тасктарды түздү, кийинки кадамды сунуш кылды_

Түзгөн тапшырмалар тизмегин улам текшерип турбасак, туш келди нерселерди камтып коюшу ыктымал. Болушунча текшеребиз.
![img-description](generate-tasks-result-errors.png)
_Django менен тааныш болгондуктан, каталарды байкадым. Өзүңдү жакшылап текшер деп дагы буйрук берсе болчудай_

